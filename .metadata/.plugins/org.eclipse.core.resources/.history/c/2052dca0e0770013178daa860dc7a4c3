package com.example1.wocao;

import java.util.ArrayList;

import android.app.Activity;
import android.os.Bundle;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ArrayAdapter;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;

public class MainActivity extends Activity{
    
    ListView listview = null;
    TextView textv=null;
    //String [] counters;
    //public counter[] counter_obj;
    //public ArrayAdapter<counter> newadp ;
    public cutadapter cut_adapter;
    public ArrayList<counter> alist_counter ;
     @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        //counter[] cun_ar=new counter[100];
        /*for (int a =0;a<100;a++)
        {
        	cun_ar[a].counterid=a;
        }*/
        alist_counter = new ArrayList<counter>();
        counter counter1= new counter("Example Counter");
        alist_counter.add(counter1);
        Toast.makeText(this, "Welcome!",Toast.LENGTH_LONG).show();
        ListView listview = (ListView)findViewById(R.id.list1);
        cut_adapter= new cutadapter(MainActivity.this,R.id.list1,alist_counter);
        
        TextView textv= (TextView)findViewById(R.id.wocao);
        listview.setOnItemClickListener(new OnItemClickListener() {

			@Override
			public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
					long arg3) {
				// TODO Auto-generated method
				Toast.makeText(this, "item clicked", Toast.LENGTH_SHORT).show();
				
			}
		});
        listview.setAdapter(cut_adapter);
        
    
        
    }
    

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.main, menu);
        
        
        return true;
    }
    
    public counter creat_counter(String name)
    {   counter new_count = new counter(name);
    	return new_count;
    }

	@Override
	public boolean onOptionsItemSelected(MenuItem item) {
		// TODO Auto-generated method stub
		switch (item.getItemId()) {
        case R.id.item1:
            alist_counter.add(creat_counter("wocao"));
            cut_adapter.notifyDataSetChanged();
            return true;
        case R.id.item2:
            alist_counter.clear();
            cut_adapter.notifyDataSetChanged();
            return true;
        default:
            return super.onOptionsItemSelected(item);
    }


	}



	
    
    
    
    
    
    
}
